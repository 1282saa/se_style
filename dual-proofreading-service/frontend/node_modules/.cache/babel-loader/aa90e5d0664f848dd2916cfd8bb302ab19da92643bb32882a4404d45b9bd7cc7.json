{"ast":null,"code":"var _jsxFileName = \"/Users/yeong-gwang/Desktop/work/\\u1109\\u1165\\u110B\\u116E\\u11AF\\u1100\\u1167\\u11BC\\u110C\\u1166\\u1109\\u1175\\u11AB\\u1106\\u116E\\u11AB/\\u1100\\u1162\\u1107\\u1161\\u11AF\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/\\u1106\\u1161\\u11BD\\u110E\\u116E\\u11B7\\u1112\\u1167\\u11BC\\u1100\\u116D\\u110B\\u1167\\u11AF\\u1109\\u1175\\u1109\\u1173\\u1110\\u1166\\u11B7\\u1100\\u1162\\u1107\\u1161\\u11AF/dual-proofreading-service/frontend/src/components/SocialShareModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { socialMediaApi } from \"../services/api\";\nimport SocialStatsDashboard from './SocialStatsDashboard';\n\n/**\n * 소셜 미디어 공유 모달 컴포넌트\n * @param {Object} props - 컴포넌트 속성\n * @param {string} props.articleId - 기사 ID\n * @param {string} props.correctionId - 교정 결과 ID\n * @param {Function} props.onClose - 모달 닫기 핸들러\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SocialShareModal = ({\n  articleId,\n  correctionId,\n  onClose\n}) => {\n  _s();\n  const [platforms, setPlatforms] = useState([]);\n  const [selectedPlatforms, setSelectedPlatforms] = useState([]);\n  const [generatedPosts, setGeneratedPosts] = useState({});\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [error, setError] = useState(null);\n  const [userId] = useState(\"user123\"); // 실제 환경에서는 사용자 인증 정보에서 가져와야 함\n\n  // 새로운 상태 추가\n  const [showConnectSection, setShowConnectSection] = useState(false);\n  const [newCredentials, setNewCredentials] = useState({\n    platform: 'instagram',\n    accessToken: '',\n    platformUserId: '',\n    username: ''\n  });\n  const [showStatistics, setShowStatistics] = useState(false);\n  const [selectedStatPlatform, setSelectedStatPlatform] = useState(null);\n  useEffect(() => {\n    // 연결된 소셜 계정 목록 가져오기\n    const fetchConnectedAccounts = async () => {\n      try {\n        const response = await socialMediaApi.getConnectedAccounts(userId);\n        setPlatforms(response.data.data || []);\n      } catch (err) {\n        console.error(\"소셜 계정 조회 오류:\", err);\n        setError(\"계정 정보를 불러오는데 실패했습니다\");\n      }\n    };\n    fetchConnectedAccounts();\n  }, [userId]);\n\n  // 플랫폼 선택/해제 처리\n  const handlePlatformToggle = platform => {\n    if (selectedPlatforms.includes(platform)) {\n      setSelectedPlatforms(selectedPlatforms.filter(p => p !== platform));\n    } else {\n      setSelectedPlatforms([...selectedPlatforms, platform]);\n    }\n  };\n\n  // 게시물 생성\n  const handleGenerate = async () => {\n    if (selectedPlatforms.length === 0) return;\n    setIsGenerating(true);\n    setError(null);\n    try {\n      const posts = {};\n\n      // 선택한 플랫폼별로 게시물 생성\n      for (const platform of selectedPlatforms) {\n        const response = await socialMediaApi.generatePost(articleId, {\n          platform,\n          correctionId,\n          options: {\n            hasImage: false,\n            // 필요시 이미지 포함 여부 설정\n            userId\n          }\n        });\n        if (response.data.success) {\n          posts[platform] = response.data.data;\n        }\n      }\n      setGeneratedPosts(posts);\n    } catch (err) {\n      console.error(\"게시물 생성 오류:\", err);\n      setError(\"소셜 미디어 게시물 생성에 실패했습니다\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  // 게시물 게시\n  const handlePublish = async () => {\n    setIsPublishing(true);\n    setError(null);\n    try {\n      const results = [];\n\n      // 생성된 게시물 게시\n      for (const platform of selectedPlatforms) {\n        if (generatedPosts[platform]) {\n          const response = await socialMediaApi.publishPost(generatedPosts[platform]._id, userId);\n          if (response.data.success) {\n            results.push(response.data.data);\n          }\n        }\n      }\n      if (results.length > 0) {\n        alert(`${results.length}개의 소셜 미디어에 게시되었습니다.`);\n        onClose();\n      } else {\n        setError(\"게시에 실패했습니다\");\n      }\n    } catch (err) {\n      console.error(\"게시 오류:\", err);\n      setError(\"게시 과정에서 오류가 발생했습니다\");\n    } finally {\n      setIsPublishing(false);\n    }\n  };\n\n  // 소셜 미디어 계정 연결\n  const handleConnect = async () => {\n    try {\n      const {\n        platform,\n        accessToken,\n        platformUserId,\n        username\n      } = newCredentials;\n      if (!accessToken || !platformUserId) {\n        setError('액세스 토큰과 사용자 ID는 필수입니다');\n        return;\n      }\n      await socialMediaApi.connectAccount(platform, {\n        accessToken,\n        platformUserId,\n        username,\n        userId\n      });\n\n      // 계정 목록 다시 로드\n      await fetchConnectedAccounts();\n      setShowConnectSection(false);\n\n      // 입력 폼 초기화\n      setNewCredentials({\n        platform: 'instagram',\n        accessToken: '',\n        platformUserId: '',\n        username: ''\n      });\n    } catch (err) {\n      console.error(\"계정 연결 오류:\", err);\n      setError(`계정 연결 실패: ${err.message}`);\n    }\n  };\n\n  // 통계 보기\n  const handleShowStatistics = platform => {\n    setSelectedStatPlatform(platform);\n    setShowStatistics(true);\n  };\n\n  // 모달 외부 클릭 시 닫기\n  const handleOutsideClick = e => {\n    if (e.target.className === \"modal-overlay\") {\n      onClose();\n    }\n  };\n\n  // 모달 탭 (연결/통계/공유)\n  const renderModalContent = () => {\n    if (showStatistics && selectedStatPlatform) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.statisticsContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.sectionTitle,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowStatistics(false),\n            style: styles.backButton,\n            children: \"\\u2190\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), selectedStatPlatform, \" \\uD1B5\\uACC4\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SocialStatsDashboard, {\n          userId: userId,\n          platform: selectedStatPlatform\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this);\n    }\n    if (showConnectSection) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.connectSection,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.sectionTitle,\n          children: \"\\uC0C8 \\uACC4\\uC815 \\uC5F0\\uACB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: newCredentials.platform,\n          onChange: e => setNewCredentials({\n            ...newCredentials,\n            platform: e.target.value\n          }),\n          style: styles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"instagram\",\n            children: \"Instagram\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"thread\",\n            children: \"Thread\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"facebook\",\n            children: \"Facebook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"linkedin\",\n            children: \"LinkedIn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC561\\uC138\\uC2A4 \\uD1A0\\uD070\",\n          value: newCredentials.accessToken,\n          onChange: e => setNewCredentials({\n            ...newCredentials,\n            accessToken: e.target.value\n          }),\n          style: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uD50C\\uB7AB\\uD3FC \\uC0AC\\uC6A9\\uC790 ID\",\n          value: newCredentials.platformUserId,\n          onChange: e => setNewCredentials({\n            ...newCredentials,\n            platformUserId: e.target.value\n          }),\n          style: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC0AC\\uC6A9\\uC790\\uBA85 (\\uC120\\uD0DD\\uC0AC\\uD56D)\",\n          value: newCredentials.username,\n          onChange: e => setNewCredentials({\n            ...newCredentials,\n            username: e.target.value\n          }),\n          style: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.buttonGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConnect,\n            style: styles.primaryButton,\n            children: \"\\uC5F0\\uACB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConnectSection(false),\n            style: styles.secondaryButton,\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"platform-selection\",\n        style: styles.section,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.sectionTitle,\n          children: \"\\uACF5\\uC720\\uD560 \\uD50C\\uB7AB\\uD3FC \\uC120\\uD0DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), platforms.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.message,\n            children: \"\\uC5F0\\uACB0\\uB41C \\uC18C\\uC15C \\uBBF8\\uB514\\uC5B4 \\uACC4\\uC815\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConnectSection(true),\n            style: styles.primaryButton,\n            children: \"\\uC18C\\uC15C \\uBBF8\\uB514\\uC5B4 \\uACC4\\uC815 \\uC5F0\\uACB0\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.platformList,\n          children: [platforms.map(platform => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.platformItem,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.platformCheckbox,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: platform.platform,\n                checked: selectedPlatforms.includes(platform.platform),\n                onChange: () => handlePlatformToggle(platform.platform)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: platform.platform,\n                style: styles.platformLabel,\n                children: [platform.platform, \" (\", platform.username, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleShowStatistics(platform.platform),\n              style: styles.statsButton,\n              children: \"\\uD1B5\\uACC4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this)]\n          }, platform.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConnectSection(true),\n            style: styles.secondaryButton,\n            children: \"\\uACC4\\uC815 \\uCD94\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), selectedPlatforms.length > 0 && !isGenerating && Object.keys(generatedPosts).length === 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGenerate,\n        disabled: isGenerating,\n        style: styles.primaryButton,\n        children: isGenerating ? '생성 중...' : '게시물 생성하기'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), Object.keys(generatedPosts).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"generated-posts\",\n        style: styles.section,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.sectionTitle,\n          children: \"\\uC0DD\\uC131\\uB41C \\uAC8C\\uC2DC\\uBB3C \\uBBF8\\uB9AC\\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), selectedPlatforms.map(platform => {\n          var _generatedPosts$platf;\n          return generatedPosts[platform] && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.postPreview,\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: styles.platformName,\n              children: platform\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: ((_generatedPosts$platf = generatedPosts[platform]) === null || _generatedPosts$platf === void 0 ? void 0 : _generatedPosts$platf.adaptedText) || '',\n              onChange: e => {\n                const updated = {\n                  ...generatedPosts\n                };\n                updated[platform].adaptedText = e.target.value;\n                setGeneratedPosts(updated);\n              },\n              style: styles.textarea,\n              rows: 5\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this)]\n          }, platform, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePublish,\n          disabled: isPublishing,\n          style: styles.primaryButton,\n          children: isPublishing ? '게시 중...' : '선택한 플랫폼에 게시하기'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: handleOutsideClick,\n    style: styles.overlay,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      style: styles.content,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.title,\n        children: \"\\uC18C\\uC15C \\uBBF8\\uB514\\uC5B4 \\uACF5\\uC720\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.error,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 19\n      }, this), renderModalContent(), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: styles.closeButton,\n        children: \"\\uB2EB\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n};\n\n// 인라인 스타일\n_s(SocialShareModal, \"K5WcJjA4bwE2yG9i2ntAs+phgFY=\");\n_c = SocialShareModal;\nconst styles = {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000\n  },\n  content: {\n    backgroundColor: \"#fff\",\n    borderRadius: \"4px\",\n    padding: \"20px\",\n    width: \"90%\",\n    maxWidth: \"700px\",\n    maxHeight: \"90vh\",\n    overflow: \"auto\",\n    boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.2)\"\n  },\n  title: {\n    fontSize: \"24px\",\n    marginTop: 0,\n    marginBottom: \"20px\",\n    color: \"#333\"\n  },\n  section: {\n    marginBottom: \"20px\"\n  },\n  sectionTitle: {\n    fontSize: \"18px\",\n    marginTop: 0,\n    marginBottom: \"10px\",\n    color: \"#333\",\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  message: {\n    color: \"#666\",\n    fontStyle: \"italic\",\n    marginBottom: \"10px\"\n  },\n  platformList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"10px\"\n  },\n  platformItem: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"10px\",\n    backgroundColor: \"#f8f9fa\",\n    borderRadius: \"4px\"\n  },\n  platformLabel: {\n    marginLeft: \"8px\",\n    color: \"#333\"\n  },\n  postPreview: {\n    marginBottom: \"15px\",\n    padding: \"10px\",\n    border: \"1px solid #ddd\",\n    borderRadius: \"4px\"\n  },\n  platformName: {\n    margin: \"0 0 10px 0\",\n    color: \"#333\",\n    fontSize: \"16px\",\n    textTransform: \"capitalize\"\n  },\n  textarea: {\n    width: \"100%\",\n    padding: \"8px\",\n    border: \"1px solid #ddd\",\n    borderRadius: \"4px\",\n    resize: \"vertical\",\n    fontFamily: \"inherit\",\n    fontSize: \"14px\"\n  },\n  primaryButton: {\n    backgroundColor: \"#007bff\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    padding: \"10px 15px\",\n    fontSize: \"14px\",\n    cursor: \"pointer\",\n    marginRight: \"10px\",\n    marginTop: \"10px\"\n  },\n  closeButton: {\n    backgroundColor: \"#6c757d\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    padding: \"10px 15px\",\n    fontSize: \"14px\",\n    cursor: \"pointer\"\n  },\n  error: {\n    backgroundColor: \"#f8d7da\",\n    color: \"#721c24\",\n    padding: \"10px\",\n    borderRadius: \"4px\",\n    marginBottom: \"15px\"\n  }\n};\nexport default SocialShareModal;\nvar _c;\n$RefreshReg$(_c, \"SocialShareModal\");","map":{"version":3,"names":["React","useState","useEffect","socialMediaApi","SocialStatsDashboard","jsxDEV","_jsxDEV","Fragment","_Fragment","SocialShareModal","articleId","correctionId","onClose","_s","platforms","setPlatforms","selectedPlatforms","setSelectedPlatforms","generatedPosts","setGeneratedPosts","isGenerating","setIsGenerating","isPublishing","setIsPublishing","error","setError","userId","showConnectSection","setShowConnectSection","newCredentials","setNewCredentials","platform","accessToken","platformUserId","username","showStatistics","setShowStatistics","selectedStatPlatform","setSelectedStatPlatform","fetchConnectedAccounts","response","getConnectedAccounts","data","err","console","handlePlatformToggle","includes","filter","p","handleGenerate","length","posts","generatePost","options","hasImage","success","handlePublish","results","publishPost","_id","push","alert","handleConnect","connectAccount","message","handleShowStatistics","handleOutsideClick","e","target","className","renderModalContent","style","styles","statisticsContainer","children","sectionTitle","onClick","backButton","fileName","_jsxFileName","lineNumber","columnNumber","connectSection","value","onChange","select","type","placeholder","input","buttonGroup","primaryButton","secondaryButton","section","platformList","map","platformItem","platformCheckbox","id","checked","htmlFor","platformLabel","statsButton","Object","keys","disabled","_generatedPosts$platf","postPreview","platformName","adaptedText","updated","textarea","rows","overlay","content","title","closeButton","_c","position","top","left","right","bottom","backgroundColor","display","justifyContent","alignItems","zIndex","borderRadius","padding","width","maxWidth","maxHeight","overflow","boxShadow","fontSize","marginTop","marginBottom","color","fontStyle","flexDirection","gap","marginLeft","border","margin","textTransform","resize","fontFamily","cursor","marginRight","$RefreshReg$"],"sources":["/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/frontend/src/components/SocialShareModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { socialMediaApi } from \"../services/api\";\nimport SocialStatsDashboard from './SocialStatsDashboard';\n\n/**\n * 소셜 미디어 공유 모달 컴포넌트\n * @param {Object} props - 컴포넌트 속성\n * @param {string} props.articleId - 기사 ID\n * @param {string} props.correctionId - 교정 결과 ID\n * @param {Function} props.onClose - 모달 닫기 핸들러\n */\nconst SocialShareModal = ({ articleId, correctionId, onClose }) => {\n  const [platforms, setPlatforms] = useState([]);\n  const [selectedPlatforms, setSelectedPlatforms] = useState([]);\n  const [generatedPosts, setGeneratedPosts] = useState({});\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [isPublishing, setIsPublishing] = useState(false);\n  const [error, setError] = useState(null);\n  const [userId] = useState(\"user123\"); // 실제 환경에서는 사용자 인증 정보에서 가져와야 함\n  \n  // 새로운 상태 추가\n  const [showConnectSection, setShowConnectSection] = useState(false);\n  const [newCredentials, setNewCredentials] = useState({\n    platform: 'instagram',\n    accessToken: '',\n    platformUserId: '',\n    username: ''\n  });\n  const [showStatistics, setShowStatistics] = useState(false);\n  const [selectedStatPlatform, setSelectedStatPlatform] = useState(null);\n  \n  useEffect(() => {\n    // 연결된 소셜 계정 목록 가져오기\n    const fetchConnectedAccounts = async () => {\n      try {\n        const response = await socialMediaApi.getConnectedAccounts(userId);\n        setPlatforms(response.data.data || []);\n      } catch (err) {\n        console.error(\"소셜 계정 조회 오류:\", err);\n        setError(\"계정 정보를 불러오는데 실패했습니다\");\n      }\n    };\n\n    fetchConnectedAccounts();\n  }, [userId]);\n\n  // 플랫폼 선택/해제 처리\n  const handlePlatformToggle = (platform) => {\n    if (selectedPlatforms.includes(platform)) {\n      setSelectedPlatforms(selectedPlatforms.filter((p) => p !== platform));\n    } else {\n      setSelectedPlatforms([...selectedPlatforms, platform]);\n    }\n  };\n\n  // 게시물 생성\n  const handleGenerate = async () => {\n    if (selectedPlatforms.length === 0) return;\n\n    setIsGenerating(true);\n    setError(null);\n\n    try {\n      const posts = {};\n\n      // 선택한 플랫폼별로 게시물 생성\n      for (const platform of selectedPlatforms) {\n        const response = await socialMediaApi.generatePost(articleId, {\n          platform,\n          correctionId,\n          options: {\n            hasImage: false, // 필요시 이미지 포함 여부 설정\n            userId,\n          },\n        });\n\n        if (response.data.success) {\n          posts[platform] = response.data.data;\n        }\n      }\n\n      setGeneratedPosts(posts);\n    } catch (err) {\n      console.error(\"게시물 생성 오류:\", err);\n      setError(\"소셜 미디어 게시물 생성에 실패했습니다\");\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  // 게시물 게시\n  const handlePublish = async () => {\n    setIsPublishing(true);\n    setError(null);\n\n    try {\n      const results = [];\n\n      // 생성된 게시물 게시\n      for (const platform of selectedPlatforms) {\n        if (generatedPosts[platform]) {\n          const response = await socialMediaApi.publishPost(\n            generatedPosts[platform]._id,\n            userId\n          );\n\n          if (response.data.success) {\n            results.push(response.data.data);\n          }\n        }\n      }\n\n      if (results.length > 0) {\n        alert(`${results.length}개의 소셜 미디어에 게시되었습니다.`);\n        onClose();\n      } else {\n        setError(\"게시에 실패했습니다\");\n      }\n    } catch (err) {\n      console.error(\"게시 오류:\", err);\n      setError(\"게시 과정에서 오류가 발생했습니다\");\n    } finally {\n      setIsPublishing(false);\n    }\n  };\n\n  // 소셜 미디어 계정 연결\n  const handleConnect = async () => {\n    try {\n      const { platform, accessToken, platformUserId, username } = newCredentials;\n      \n      if (!accessToken || !platformUserId) {\n        setError('액세스 토큰과 사용자 ID는 필수입니다');\n        return;\n      }\n      \n      await socialMediaApi.connectAccount(platform, {\n        accessToken,\n        platformUserId,\n        username,\n        userId\n      });\n      \n      // 계정 목록 다시 로드\n      await fetchConnectedAccounts();\n      setShowConnectSection(false);\n      \n      // 입력 폼 초기화\n      setNewCredentials({\n        platform: 'instagram',\n        accessToken: '',\n        platformUserId: '',\n        username: ''\n      });\n    } catch (err) {\n      console.error(\"계정 연결 오류:\", err);\n      setError(`계정 연결 실패: ${err.message}`);\n    }\n  };\n\n  // 통계 보기\n  const handleShowStatistics = (platform) => {\n    setSelectedStatPlatform(platform);\n    setShowStatistics(true);\n  };\n\n  // 모달 외부 클릭 시 닫기\n  const handleOutsideClick = (e) => {\n    if (e.target.className === \"modal-overlay\") {\n      onClose();\n    }\n  };\n\n  // 모달 탭 (연결/통계/공유)\n  const renderModalContent = () => {\n    if (showStatistics && selectedStatPlatform) {\n      return (\n        <div style={styles.statisticsContainer}>\n          <h3 style={styles.sectionTitle}>\n            <button \n              onClick={() => setShowStatistics(false)}\n              style={styles.backButton}\n            >\n              ←\n            </button>\n            {selectedStatPlatform} 통계\n          </h3>\n          <SocialStatsDashboard \n            userId={userId} \n            platform={selectedStatPlatform}\n          />\n        </div>\n      );\n    }\n    \n    if (showConnectSection) {\n      return (\n        <div style={styles.connectSection}>\n          <h3 style={styles.sectionTitle}>새 계정 연결</h3>\n          <select \n            value={newCredentials.platform}\n            onChange={(e) => setNewCredentials({...newCredentials, platform: e.target.value})}\n            style={styles.select}\n          >\n            <option value=\"instagram\">Instagram</option>\n            <option value=\"thread\">Thread</option>\n            <option value=\"facebook\">Facebook</option>\n            <option value=\"linkedin\">LinkedIn</option>\n          </select>\n          \n          <input\n            type=\"text\"\n            placeholder=\"액세스 토큰\"\n            value={newCredentials.accessToken}\n            onChange={(e) => setNewCredentials({...newCredentials, accessToken: e.target.value})}\n            style={styles.input}\n          />\n          \n          <input\n            type=\"text\"\n            placeholder=\"플랫폼 사용자 ID\"\n            value={newCredentials.platformUserId}\n            onChange={(e) => setNewCredentials({...newCredentials, platformUserId: e.target.value})}\n            style={styles.input}\n          />\n          \n          <input\n            type=\"text\"\n            placeholder=\"사용자명 (선택사항)\"\n            value={newCredentials.username}\n            onChange={(e) => setNewCredentials({...newCredentials, username: e.target.value})}\n            style={styles.input}\n          />\n          \n          <div style={styles.buttonGroup}>\n            <button onClick={handleConnect} style={styles.primaryButton}>연결</button>\n            <button onClick={() => setShowConnectSection(false)} style={styles.secondaryButton}>취소</button>\n          </div>\n        </div>\n      );\n    }\n    \n    return (\n      <>\n        <div className=\"platform-selection\" style={styles.section}>\n          <h3 style={styles.sectionTitle}>공유할 플랫폼 선택</h3>\n          {platforms.length === 0 ? (\n            <div>\n              <p style={styles.message}>연결된 소셜 미디어 계정이 없습니다.</p>\n              <button \n                onClick={() => setShowConnectSection(true)}\n                style={styles.primaryButton}\n              >\n                소셜 미디어 계정 연결하기\n              </button>\n            </div>\n          ) : (\n            <div style={styles.platformList}>\n              {platforms.map(platform => (\n                <div key={platform.id} style={styles.platformItem}>\n                  <div style={styles.platformCheckbox}>\n                    <input\n                      type=\"checkbox\"\n                      id={platform.platform}\n                      checked={selectedPlatforms.includes(platform.platform)}\n                      onChange={() => handlePlatformToggle(platform.platform)}\n                    />\n                    <label htmlFor={platform.platform} style={styles.platformLabel}>\n                      {platform.platform} ({platform.username})\n                    </label>\n                  </div>\n                  <button \n                    onClick={() => handleShowStatistics(platform.platform)}\n                    style={styles.statsButton}\n                  >\n                    통계\n                  </button>\n                </div>\n              ))}\n              <button \n                onClick={() => setShowConnectSection(true)}\n                style={styles.secondaryButton}\n              >\n                계정 추가\n              </button>\n            </div>\n          )}\n        </div>\n        \n        {selectedPlatforms.length > 0 && !isGenerating && Object.keys(generatedPosts).length === 0 && (\n          <button \n            onClick={handleGenerate} \n            disabled={isGenerating} \n            style={styles.primaryButton}\n          >\n            {isGenerating ? '생성 중...' : '게시물 생성하기'}\n          </button>\n        )}\n        \n        {Object.keys(generatedPosts).length > 0 && (\n          <div className=\"generated-posts\" style={styles.section}>\n            <h3 style={styles.sectionTitle}>생성된 게시물 미리보기</h3>\n            {selectedPlatforms.map(platform => \n              generatedPosts[platform] && (\n                <div key={platform} style={styles.postPreview}>\n                  <h4 style={styles.platformName}>{platform}</h4>\n                  <textarea\n                    value={generatedPosts[platform]?.adaptedText || ''}\n                    onChange={(e) => {\n                      const updated = {...generatedPosts};\n                      updated[platform].adaptedText = e.target.value;\n                      setGeneratedPosts(updated);\n                    }}\n                    style={styles.textarea}\n                    rows={5}\n                  />\n                </div>\n              )\n            )}\n            \n            <button \n              onClick={handlePublish} \n              disabled={isPublishing} \n              style={styles.primaryButton}\n            >\n              {isPublishing ? '게시 중...' : '선택한 플랫폼에 게시하기'}\n            </button>\n          </div>\n        )}\n      </>\n    );\n  };\n\n  return (\n    <div\n      className=\"modal-overlay\"\n      onClick={handleOutsideClick}\n      style={styles.overlay}\n    >\n      <div className=\"modal-content\" style={styles.content}>\n        <h2 style={styles.title}>소셜 미디어 공유</h2>\n\n        {error && <div style={styles.error}>{error}</div>}\n        \n        {renderModalContent()}\n        \n        <button onClick={onClose} style={styles.closeButton}>닫기</button>\n      </div>\n    </div>\n  );\n};\n\n// 인라인 스타일\nconst styles = {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000,\n  },\n  content: {\n    backgroundColor: \"#fff\",\n    borderRadius: \"4px\",\n    padding: \"20px\",\n    width: \"90%\",\n    maxWidth: \"700px\",\n    maxHeight: \"90vh\",\n    overflow: \"auto\",\n    boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.2)\",\n  },\n  title: {\n    fontSize: \"24px\",\n    marginTop: 0,\n    marginBottom: \"20px\",\n    color: \"#333\",\n  },\n  section: {\n    marginBottom: \"20px\",\n  },\n  sectionTitle: {\n    fontSize: \"18px\",\n    marginTop: 0,\n    marginBottom: \"10px\",\n    color: \"#333\",\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  message: {\n    color: \"#666\",\n    fontStyle: \"italic\",\n    marginBottom: \"10px\",\n  },\n  platformList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"10px\",\n  },\n  platformItem: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"10px\",\n    backgroundColor: \"#f8f9fa\",\n    borderRadius: \"4px\",\n  },\n  platformLabel: {\n    marginLeft: \"8px\",\n    color: \"#333\",\n  },\n  postPreview: {\n    marginBottom: \"15px\",\n    padding: \"10px\",\n    border: \"1px solid #ddd\",\n    borderRadius: \"4px\",\n  },\n  platformName: {\n    margin: \"0 0 10px 0\",\n    color: \"#333\",\n    fontSize: \"16px\",\n    textTransform: \"capitalize\",\n  },\n  textarea: {\n    width: \"100%\",\n    padding: \"8px\",\n    border: \"1px solid #ddd\",\n    borderRadius: \"4px\",\n    resize: \"vertical\",\n    fontFamily: \"inherit\",\n    fontSize: \"14px\",\n  },\n  primaryButton: {\n    backgroundColor: \"#007bff\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    padding: \"10px 15px\",\n    fontSize: \"14px\",\n    cursor: \"pointer\",\n    marginRight: \"10px\",\n    marginTop: \"10px\",\n  },\n  closeButton: {\n    backgroundColor: \"#6c757d\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"4px\",\n    padding: \"10px 15px\",\n    fontSize: \"14px\",\n    cursor: \"pointer\",\n  },\n  error: {\n    backgroundColor: \"#f8d7da\",\n    color: \"#721c24\",\n    padding: \"10px\",\n    borderRadius: \"4px\",\n    marginBottom: \"15px\",\n  },\n};\n\nexport default SocialShareModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}