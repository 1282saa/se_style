2025-05-05 08:30:14 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 08:30:14 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 08:30:14 [INFO] PromptService 초기화 완료 
2025-05-05 08:30:14 [INFO] MongoDB 연결 완료 
2025-05-05 08:30:14 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 08:32:59 [INFO] [525a92fa-1ecd-4358-a251-07f8f0bc79e9] ::1 GET /health 200 4ms 
2025-05-05 08:32:59 [INFO] [9aa668dd-434b-4631-be51-5f62f999217a] ::1 GET /favicon.ico 404 2ms 
2025-05-05 08:33:52 [INFO] [46f82f91-33de-4b02-af0a-42863cad20da] ::1 GET /api/status 200 2ms 
2025-05-05 08:38:06 [INFO] [4e14f3b2-96cb-446f-a647-e76d40798bc2] ::1 GET /health 200 1ms 
2025-05-05 08:38:10 [INFO] [12936a25-ed88-4858-b0d0-f92ca57e0002] ::1 GET /api/status 200 1ms 
2025-05-05 08:38:17 [INFO] 새 기사 생성 완료 (ID: 6817fa695e66f2243bb27122) 
2025-05-05 08:38:17 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 08:38:17 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 08:38:17 [INFO] 키워드 검색 결과: 2개 
2025-05-05 08:38:17 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 08:38:17 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 08:38:17 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:38:17 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 08:38:17 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:38:17 [INFO] 대체 교정 결과 저장 완료 (ID: 6817fa695e66f2243bb2712a) 
2025-05-05 08:38:17 [INFO] 대체 교정 결과 저장 완료 (ID: 6817fa695e66f2243bb27128) 
2025-05-05 08:38:17 [INFO] [ae505817-b3ab-42c1-b710-0e3e48b61f85] ::1 POST /api/proofread 200 97ms 
2025-05-05 08:38:31 [INFO] [3fc2d7b1-0371-43e5-848d-fd330f567d28] ::1 GET /api/styleguides 200 8ms 
2025-05-05 08:40:34 [INFO] [834789a9-13ba-4c58-a287-a303746660e0] ::1 OPTIONS /api/articles/quick-proofread 200 1ms 
2025-05-05 08:44:41 [INFO] [9a5988df-bfc1-460b-98d1-96f56bafed95] ::1 OPTIONS /api/articles/quick-proofread 200 1ms 
2025-05-05 08:47:07 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 08:47:12 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 08:47:12 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 08:47:12 [INFO] PromptService 초기화 완료 
2025-05-05 08:47:12 [INFO] MongoDB 연결 완료 
2025-05-05 08:47:12 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 08:47:23 [INFO] 새 기사 생성 완료 (ID: 6817fc8b01d223716efe1cce) 
2025-05-05 08:47:24 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 08:47:24 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 08:47:24 [INFO] 관련 스타일 가이드 0개 발견 
2025-05-05 08:47:24 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 08:47:24 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:47:24 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 08:47:24 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:47:24 [INFO] 대체 교정 결과 저장 완료 (ID: 6817fc8c01d223716efe1cd3) 
2025-05-05 08:47:24 [INFO] 대체 교정 결과 저장 완료 (ID: 6817fc8c01d223716efe1cd5) 
2025-05-05 08:47:24 [INFO] [2bc93ba3-16d4-4746-9a82-8cee7ce33510] ::1 POST /api/articles/quick-proofread 200 46ms 
2025-05-05 08:47:39 [INFO] 새 기사 생성 완료 (ID: 6817fc9b01d223716efe1cd7) 
2025-05-05 08:47:39 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 08:47:39 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 08:47:39 [INFO] 관련 스타일 가이드 0개 발견 
2025-05-05 08:47:39 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 08:47:39 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:47:39 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 08:47:39 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:47:39 [INFO] 대체 교정 결과 저장 완료 (ID: 6817fc9b01d223716efe1cdc) 
2025-05-05 08:47:39 [INFO] 대체 교정 결과 저장 완료 (ID: 6817fc9b01d223716efe1cde) 
2025-05-05 08:47:39 [INFO] [31c8a0cf-fac2-4eb4-89fb-ab91eccd5e75] ::1 POST /api/articles/quick-proofread 200 15ms 
2025-05-05 08:58:38 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 08:58:46 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 08:58:46 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 08:58:46 [INFO] PromptService 초기화 완료 
2025-05-05 08:58:46 [INFO] MongoDB 연결 완료 
2025-05-05 08:58:46 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 08:58:59 [INFO] 새 기사 생성 완료 (ID: 6817ff436ff6f042ff2f7768) 
2025-05-05 08:58:59 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 08:58:59 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 08:58:59 [INFO] 키워드 검색 결과: 0개 
2025-05-05 08:58:59 [INFO] 관련 스타일 가이드 0개 발견 
2025-05-05 08:58:59 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 08:58:59 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:58:59 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 08:58:59 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:58:59 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ff436ff6f042ff2f776e) 
2025-05-05 08:58:59 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ff436ff6f042ff2f7770) 
2025-05-05 08:58:59 [INFO] [75097261-ab2c-491f-9ea0-1995280fcfaa] ::1 POST /api/proofread 200 52ms 
2025-05-05 08:59:05 [INFO] 새 기사 생성 완료 (ID: 6817ff496ff6f042ff2f7772) 
2025-05-05 08:59:05 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 08:59:05 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 08:59:05 [INFO] 키워드 검색 결과: 0개 
2025-05-05 08:59:05 [INFO] 관련 스타일 가이드 0개 발견 
2025-05-05 08:59:05 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 08:59:05 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:59:05 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 08:59:05 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:59:05 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ff496ff6f042ff2f7778) 
2025-05-05 08:59:05 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ff496ff6f042ff2f777a) 
2025-05-05 08:59:05 [INFO] [85e7bbf4-3b70-496f-886a-c56675cb95cb] ::1 POST /api/proofread 200 17ms 
2025-05-05 08:59:11 [INFO] 새 기사 생성 완료 (ID: 6817ff4f6ff6f042ff2f777c) 
2025-05-05 08:59:11 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 08:59:11 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 08:59:11 [INFO] 키워드 검색 결과: 1개 
2025-05-05 08:59:11 [INFO] 관련 스타일 가이드 1개 발견 
2025-05-05 08:59:11 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 08:59:11 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:59:11 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 08:59:11 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 08:59:11 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ff4f6ff6f042ff2f7782) 
2025-05-05 08:59:11 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ff4f6ff6f042ff2f7784) 
2025-05-05 08:59:11 [INFO] [ac72fe08-767e-417f-9cd6-3946bcdab886] ::1 POST /api/proofread 200 15ms 
2025-05-05 09:00:35 [INFO] 새 기사 생성 완료 (ID: 6817ffa36ff6f042ff2f7786) 
2025-05-05 09:00:35 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:00:35 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create'). 키워드 검색으로 전환합니다. 
2025-05-05 09:00:35 [INFO] 키워드 검색 결과: 0개 
2025-05-05 09:00:35 [INFO] 관련 스타일 가이드 0개 발견 
2025-05-05 09:00:35 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): Cannot read properties of undefined (reading 'enhanced') 
2025-05-05 09:00:35 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:00:35 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): Cannot read properties of undefined (reading 'minimal') 
2025-05-05 09:00:35 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:00:35 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ffa36ff6f042ff2f778c) 
2025-05-05 09:00:35 [INFO] 대체 교정 결과 저장 완료 (ID: 6817ffa36ff6f042ff2f778e) 
2025-05-05 09:00:35 [INFO] [a9649192-2370-48fd-8c30-b0127f7a8400] ::1 POST /api/proofread 200 19ms 
2025-05-05 09:06:24 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 09:06:51 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 09:06:51 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 09:06:51 [INFO] PromptService 초기화 완료 
2025-05-05 09:06:51 [INFO] MongoDB 연결 완료 
2025-05-05 09:06:51 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 09:07:15 [INFO] 새 기사 생성 완료 (ID: 681801335ad64c3f47c834b3) 
2025-05-05 09:07:15 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:07:15 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:07:15 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:07:15 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:07:15 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:07:15 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:07:15 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:07:15 [ERROR] Claude API 호출 오류: estimateTokens is not a function {"stack":"Error: estimateTokens is not a function\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:65:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:241:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:492:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:07:15 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:07:15 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:07:15 [ERROR] Claude API 호출 오류: estimateTokens is not a function {"stack":"Error: estimateTokens is not a function\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:65:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:241:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:492:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:07:15 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:07:15 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:07:15 [INFO] 대체 교정 결과 저장 완료 (ID: 681801335ad64c3f47c834bc) 
2025-05-05 09:07:15 [INFO] 대체 교정 결과 저장 완료 (ID: 681801335ad64c3f47c834ba) 
2025-05-05 09:07:15 [INFO] [1bf4448d-f540-42ca-af9a-153b6158517f] ::1 POST /api/proofread 200 46ms 
2025-05-05 09:07:33 [INFO] 새 기사 생성 완료 (ID: 681801455ad64c3f47c834be) 
2025-05-05 09:07:33 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:07:33 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:07:33 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:07:33 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:07:33 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:07:33 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:07:33 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:07:33 [ERROR] Claude API 호출 오류: estimateTokens is not a function {"stack":"Error: estimateTokens is not a function\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:65:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:241:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:492:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:07:33 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:07:33 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:07:33 [ERROR] Claude API 호출 오류: estimateTokens is not a function {"stack":"Error: estimateTokens is not a function\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:65:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:241:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:492:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:07:33 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:07:33 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:07:33 [INFO] 대체 교정 결과 저장 완료 (ID: 681801455ad64c3f47c834c7) 
2025-05-05 09:07:33 [INFO] 대체 교정 결과 저장 완료 (ID: 681801455ad64c3f47c834c5) 
2025-05-05 09:07:33 [INFO] [e45286b1-8ddb-4a26-a007-3cdd4ed4f8cb] ::1 POST /api/proofread 200 23ms 
2025-05-05 09:07:42 [INFO] 새 기사 생성 완료 (ID: 6818014e5ad64c3f47c834c9) 
2025-05-05 09:07:42 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:07:42 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:07:42 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:07:42 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:07:42 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:07:42 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:07:42 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:07:42 [ERROR] Claude API 호출 오류: estimateTokens is not a function {"stack":"Error: estimateTokens is not a function\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:65:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:241:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:492:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:07:42 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:07:42 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:07:42 [ERROR] Claude API 호출 오류: estimateTokens is not a function {"stack":"Error: estimateTokens is not a function\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:65:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:241:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:492:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:07:42 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:07:42 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:07:42 [INFO] 대체 교정 결과 저장 완료 (ID: 6818014e5ad64c3f47c834d0) 
2025-05-05 09:07:42 [INFO] 대체 교정 결과 저장 완료 (ID: 6818014e5ad64c3f47c834d2) 
2025-05-05 09:07:42 [INFO] [31627730-507b-4157-96c7-8398ea402e5b] ::1 POST /api/proofread 200 21ms 
2025-05-05 09:11:48 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 09:12:13 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 09:12:13 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 09:12:13 [INFO] PromptService 초기화 완료 
2025-05-05 09:12:13 [INFO] MongoDB 연결 완료 
2025-05-05 09:12:13 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 09:13:33 [INFO] 새 기사 생성 완료 (ID: 681802ad3c7f1aaf160a5b21) 
2025-05-05 09:13:33 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:13:33 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:13:33 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:13:33 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:13:33 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:13:33 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:13:33 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:13:34 [ERROR] Claude API 호출 오류: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}} {"stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:13:34 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:13:34 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:13:34 [INFO] 대체 교정 결과 저장 완료 (ID: 681802ae3c7f1aaf160a5b28) 
2025-05-05 09:13:34 [ERROR] Claude API 호출 오류: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}} {"stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:13:34 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:13:34 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:13:34 [INFO] 대체 교정 결과 저장 완료 (ID: 681802ae3c7f1aaf160a5b2a) 
2025-05-05 09:13:34 [INFO] [5cb73c79-dc5a-49c9-8299-018c2317b276] ::1 POST /api/proofread 200 316ms 
2025-05-05 09:13:53 [INFO] 새 기사 생성 완료 (ID: 681802c13c7f1aaf160a5b2c) 
2025-05-05 09:13:53 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:13:53 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:13:53 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:13:53 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:13:53 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:13:53 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:13:53 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:13:53 [ERROR] Claude API 호출 오류: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}} {"stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:13:53 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:13:53 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:13:53 [INFO] 대체 교정 결과 저장 완료 (ID: 681802c13c7f1aaf160a5b33) 
2025-05-05 09:13:53 [ERROR] Claude API 호출 오류: 401 {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}} {"stack":"Error: 401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:13:53 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:13:53 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:13:53 [INFO] 대체 교정 결과 저장 완료 (ID: 681802c13c7f1aaf160a5b35) 
2025-05-05 09:13:53 [INFO] [92365135-e1c9-4900-a949-526b12c72535] ::1 POST /api/proofread 200 354ms 
2025-05-05 09:17:03 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 09:17:12 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 09:17:12 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 09:17:12 [INFO] PromptService 초기화 완료 
2025-05-05 09:17:12 [INFO] MongoDB 연결 완료 
2025-05-05 09:17:12 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 09:17:36 [INFO] 새 기사 생성 완료 (ID: 681803a06817117a8f10f864) 
2025-05-05 09:17:36 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:17:36 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:17:36 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:17:36 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:17:36 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:17:36 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:17:36 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:17:36 [ERROR] Claude API 호출 오류: 400 {"type":"error","error":{"type":"invalid_request_error","message":"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits."}} {"stack":"Error: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:17:36 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:17:36 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:17:36 [ERROR] Claude API 호출 오류: 400 {"type":"error","error":{"type":"invalid_request_error","message":"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits."}} {"stack":"Error: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:17:36 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:17:36 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:17:36 [INFO] 대체 교정 결과 저장 완료 (ID: 681803a06817117a8f10f86b) 
2025-05-05 09:17:36 [INFO] 대체 교정 결과 저장 완료 (ID: 681803a06817117a8f10f86d) 
2025-05-05 09:17:36 [INFO] [97ba7455-facd-4096-a32d-d414579285c0] ::1 POST /api/proofread 200 309ms 
2025-05-05 09:20:59 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 09:21:57 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 09:21:57 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229) 
2025-05-05 09:21:57 [INFO] PromptService 초기화 완료 
2025-05-05 09:21:57 [INFO] MongoDB 연결 완료 
2025-05-05 09:21:57 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 09:22:11 [INFO] 새 기사 생성 완료 (ID: 681804b3eb214b25ea7cf5f0) 
2025-05-05 09:22:11 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:22:11 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:22:11 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:22:11 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:22:11 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:22:11 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:22:11 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:22:11 [ERROR] Claude API 호출 오류: 400 {"type":"error","error":{"type":"invalid_request_error","message":"signal: Extra inputs are not permitted"}} {"stack":"Error: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"signal: Extra inputs are not permitted\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 1)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:22:11 [ERROR] 교정 생성 오류 (프롬프트 유형: 2): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:22:11 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:22:11 [ERROR] Claude API 호출 오류: 400 {"type":"error","error":{"type":"invalid_request_error","message":"signal: Extra inputs are not permitted"}} {"stack":"Error: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"signal: Extra inputs are not permitted\"}}\n    at AnthropicService.proofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/llm/anthropicService.js:75:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async ProofreadingService.callClaudeAPI (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:248:22)\n    at async ProofreadingService.generateCorrection (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:147:22)\n    at async Promise.all (index 0)\n    at async ProofreadingService.quickProofread (/Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/services/proofreadingService.js:506:42)\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/controllers/api.controller.js:36:18\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7\n    at async /Users/yeong-gwang/Desktop/work/서울경제신문/개발작업/맞춤형교열시스템개발/dual-proofreading-service/backend/src/utils/errorHandler.js:39:7","code":"PROOFREAD_TIMEOUT"}
2025-05-05 09:22:11 [ERROR] 교정 생성 오류 (프롬프트 유형: 1): 교정 요청 시간이 초과되었습니다. 나중에 다시 시도해주세요. 
2025-05-05 09:22:11 [INFO] 대체 교정 결과 생성 시도 
2025-05-05 09:22:11 [INFO] 대체 교정 결과 저장 완료 (ID: 681804b3eb214b25ea7cf5f7) 
2025-05-05 09:22:11 [INFO] 대체 교정 결과 저장 완료 (ID: 681804b3eb214b25ea7cf5f9) 
2025-05-05 09:22:11 [INFO] [aec1ad1c-3fcb-4ec6-b5b4-0cb136c0606c] ::1 POST /api/proofread 200 328ms 
2025-05-05 09:27:24 [INFO] ⏼  종료 시그널 수신, 서버 정리 중… 
2025-05-05 09:27:28 [WARN] [Redis] REDIS_URL 미설정 – 인메모리 캐시로 대체 
2025-05-05 09:27:28 [INFO] ANTHROPIC_API_KEY 확인: 
2025-05-05 09:27:28 [INFO] AnthropicService 초기화 (model=claude-3-opus-20240229, maxTokens=4000) 
2025-05-05 09:27:28 [INFO] PromptService 초기화 완료 
2025-05-05 09:27:28 [INFO] MongoDB 연결 완료 
2025-05-05 09:27:28 [INFO] 🚀 Server @ http://localhost:3003 (development) 
2025-05-05 09:27:49 [INFO] 새 기사 생성 완료 (ID: 68180605b24986030b60aac3) 
2025-05-05 09:27:49 [INFO] 벡터 검색 사용하여 스타일 가이드 검색 
2025-05-05 09:27:49 [ERROR] 임베딩 생성 오류: Cannot read properties of undefined (reading 'create') 
2025-05-05 09:27:49 [INFO] 메모리 내 코사인 유사도 계산 사용 
2025-05-05 09:27:49 [INFO] 코사인 유사도 계산 결과: 0개 
2025-05-05 09:27:49 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:27:49 [INFO] 키워드 검색 결과: 2개 
2025-05-05 09:27:49 [INFO] 관련 스타일 가이드 2개 발견 
2025-05-05 09:27:58 [WARN] JSON 파싱 실패 (일반 객체): Expected ',' or ']' after array element in JSON at position 270 (line 9 column 6) 
2025-05-05 09:27:58 [WARN] 구조화된 JSON 응답을 찾을 수 없음, 텍스트 전체를 교정 결과로 사용 
2025-05-05 09:27:58 [INFO] proofread 완료 (tokens=0) 
2025-05-05 09:27:58 [INFO] 교정 결과 저장 완료 (ID: 6818060eb24986030b60aaca) 
2025-05-05 09:28:08 [WARN] JSON 파싱 실패 (일반 객체): Expected ',' or ']' after array element in JSON at position 301 (line 9 column 6) 
2025-05-05 09:28:08 [WARN] 구조화된 JSON 응답을 찾을 수 없음, 텍스트 전체를 교정 결과로 사용 
2025-05-05 09:28:08 [INFO] proofread 완료 (tokens=0) 
2025-05-05 09:28:08 [INFO] 교정 결과 저장 완료 (ID: 68180618b24986030b60aacc) 
2025-05-05 09:28:08 [INFO] [ae5a25ad-7727-4ef3-8d4d-466ec8bb6251] ::1 POST /api/proofread 200 19026ms 
